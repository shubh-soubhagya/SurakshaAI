<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather News Finder</title>
    <link rel="stylesheet" href="/static/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&family=Roboto:wght@500&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <h1>Weather News Finder</h1>
        <p class="subtitle">Get the latest weather-related news for any city</p>
        
        <form method="POST" action="/">
            <div class="search-container">
                <input type="text" name="city" placeholder="Enter a city name" value="{{ city }}" required>
                <button type="submit">Search</button>
            </div>
        </form>

        {% if error_message %}
            <div class="error-message">{{ error_message }}</div>
        {% endif %}

        {% if headlines %}
        <div class="results-header">
            <h2>Weather News for {{ city }}</h2>
            <p>{{ headlines|length }} articles found</p>
        </div>

        <div class="news-container">
            {% for article in headlines %}
            <div class="news-card">
                <div class="news-source">
                    <span>{{ article.source }}</span>
                    <span class="published-date">{{ article.publishedAt[:10] }}</span>
                </div>
                <h3><a href="{{ article.url }}" target="_blank">{{ article.title }}</a></h3>
                <p class="news-description">{{ article.description }}</p>
                <a href="{{ article.url }}" target="_blank" class="read-more">Read more â†’</a>
            </div>
            {% endfor %}
        </div>
        {% endif %}
    </div>

    <footer>
        <p>Weather News Finder &copy; 2023 | Powered by NewsAPI</p>
    </footer>
</body>
</html>